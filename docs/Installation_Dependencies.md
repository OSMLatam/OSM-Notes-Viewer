---
title: "Installation and Dependencies Guide"
description: "Complete guide to install dependencies and set up OSM-Notes-Viewer for development"
version: "1.0.0"
last_updated: "2026-01-26"
author: "AngocA"
tags:
  - "installation"
  - "dependencies"
  - "setup"
audience:
  - "developers"
  - "users"
project: "OSM-Notes-Viewer"
status: "active"
---

# Installation and Dependencies Guide

Complete guide to install all dependencies and set up OSM-Notes-Viewer for development and production.

## Table of Contents

1. [System Requirements](#system-requirements)
2. [System Dependencies](#system-dependencies)
3. [Internal Dependencies](#internal-dependencies)
4. [Project Installation](#project-installation)
5. [Configuration](#configuration)
6. [Verification](#verification)
7. [Troubleshooting](#troubleshooting)

---

## System Requirements

### Operating System

- **Linux** (Ubuntu 20.04+ / Debian 11+ recommended)
- **macOS** (for development)
- **Windows** (with WSL2 recommended)

### Hardware Requirements

- **CPU**: 1+ core (minimal requirements)
- **RAM**: 512MB minimum
- **Disk**: 100MB+ free space
- **Network**: Internet connection for accessing data from OSM-Notes-Data

### Browser Requirements (End Users)

- **Chrome** (latest 2 versions)
- **Firefox** (latest 2 versions)
- **Safari** (latest 2 versions)
- **Edge** (latest 2 versions)

---

## System Dependencies

### Required Software (Development Only)

The Viewer is a static web application. For **development**, you need:

#### Node.js and npm (Optional - for Development)

```bash
# Install Node.js 14+ (using NodeSource repository)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# Verify installation
node --version  # Should be 14.0.0 or higher
npm --version
```

#### Python 3 (Optional - for Local Development Server)

```bash
# Install Python 3
sudo apt-get install -y python3 python3-pip

# Verify installation
python3 --version
```

### Production Deployment

**No server-side dependencies required** - The Viewer is a static web application that can be deployed to:
- GitHub Pages
- Any static hosting service (Netlify, Vercel, etc.)
- Any web server (Apache, Nginx, etc.)

---

## Internal Dependencies

### ⚠️ Required: OSM-Notes-Data

**OSM-Notes-Viewer REQUIRES OSM-Notes-Data to be available.**

The Viewer consumes JSON data from OSM-Notes-Data:
- **Data Source**: GitHub Pages at `https://notes.osm.lat/data/`
- **Required Files**:
  - `/api/users/{user_id}.json` - Individual user profiles
  - `/api/countries/{country_id}.json` - Country statistics
  - `/api/indexes/users.json` - List of all users
  - `/api/indexes/countries.json` - List of all countries
  - `/api/metadata.json` - Export metadata

### Installation Order

1. **First**: Install and configure OSM-Notes-Ingestion
2. **Second**: Install and run OSM-Notes-Analytics ETL
3. **Third**: OSM-Notes-Data is automatically generated by Analytics
4. **Fourth**: Install OSM-Notes-Viewer (this project)
5. **Verify**: Ensure Data repository is populated before using Viewer

### Data Generation

OSM-Notes-Data is automatically generated by OSM-Notes-Analytics:
- Analytics runs `exportAndPushToGitHub.sh` script
- This exports JSON files to OSM-Notes-Data repository
- GitHub Pages automatically serves the data

**Note**: Viewer can work independently once Data is available (no direct dependency on Analytics after data is generated).

---

## Project Installation

### 1. Clone Repository

```bash
# Clone repository
git clone https://github.com/OSM-Notes/OSM-Notes-Viewer.git
cd OSM-Notes-Viewer
```

### 2. Install Node.js Dependencies (Development Only)

```bash
# Install development dependencies
npm install

# This installs:
# - Vite (development server and build tool)
# - Vitest (testing framework)
# - Prettier (code formatting)
# - Development tools
```

**Note**: The Viewer is a static web application. Node.js is only needed for development (testing, building, formatting).

---

## Configuration

### 1. Data Source Configuration

The Viewer is configured to use OSM-Notes-Data by default. No configuration is required for production.

For **local development**, you may need to configure the data source:

```javascript
// src/config.js (if exists)
const DATA_BASE_URL = 'https://notes.osm.lat/data';
// Or for local development:
// const DATA_BASE_URL = 'http://localhost:8000/data';
```

### 2. Environment Variables (Optional)

If using environment variables for configuration:

```bash
# Create .env file (if supported)
echo "VITE_DATA_BASE_URL=https://notes.osm.lat/data" > .env
```

---

## Verification

### 1. Verify Dependencies (Development)

```bash
# Check Node.js and npm
node --version
npm --version

# Check code formatting
npm run format:check
```

### 2. Verify Data Source

```bash
# Check if data is available
curl -I https://notes.osm.lat/data/api/metadata.json

# Check if indexes are available
curl -I https://notes.osm.lat/data/api/indexes/users.json
curl -I https://notes.osm.lat/data/api/indexes/countries.json
```

### 3. Run Tests

```bash
# Run all tests
npm test

# Run tests with coverage
npm run test:coverage

# Run tests in watch mode
npm run test:watch
```

### 4. Start Development Server

```bash
# Start Vite development server (recommended)
npm run dev

# The Viewer will be available at http://localhost:5173 (or similar port)

# Or use Python HTTP server
npm run serve
# Then open: http://localhost:8000/src/index.html
```

### 5. Build for Production

```bash
# Build static files
npm run build

# This creates the `dist/` directory with production-ready files
# Deploy the `dist/` directory to your static hosting service
```

---

## Troubleshooting

### Data Source Not Available

**Error**: `Failed to fetch data from https://notes.osm.lat/data/...`

**Solution**:
1. Verify OSM-Notes-Data repository is populated
2. Check GitHub Pages is enabled and serving data
3. Verify data URLs are accessible:
   ```bash
   curl https://notes.osm.lat/data/api/metadata.json
   ```
4. For local development, ensure data files are available locally

### CORS Issues

**Error**: `CORS policy: No 'Access-Control-Allow-Origin' header`

**Solution**:
- GitHub Pages should handle CORS automatically
- If using a custom server, ensure CORS headers are configured
- For local development, use a development server (Vite) that handles CORS

### Build Errors

```bash
# Clean build directory
rm -rf dist/

# Rebuild
npm run build

# Check for errors in console
```

### Port Already in Use

```bash
# Check what's using the port
sudo lsof -i :5173  # or :8000

# Kill process if needed
kill -9 <PID>

# Or change port in vite.config.js
```

---

## Production Deployment

### 1. Build for Production

```bash
# Build static files
npm run build

# This creates optimized files in `dist/` directory
```

### 2. Deploy to GitHub Pages

```bash
# If using GitHub Actions, deployment is automatic
# Otherwise, copy dist/ contents to gh-pages branch
```

### 3. Deploy to Static Hosting

Deploy the `dist/` directory to:
- **Netlify**: Drag and drop `dist/` folder
- **Vercel**: `vercel deploy dist`
- **Apache/Nginx**: Copy `dist/` contents to web root

### 4. Verify Deployment

```bash
# Check if Viewer is accessible
curl -I https://notes.osm.lat/

# Check if data is accessible
curl -I https://notes.osm.lat/data/api/metadata.json
```

---

## Next Steps

After installation:

1. **Read Architecture**: `docs/Architecture.md` - System architecture
2. **Review Features**: `docs/Features.md` - Feature documentation
3. **Check Build Guide**: `docs/Build.md` - Building the project
4. **Explore Components**: `docs/Components.md` - Component documentation

---

## Related Documentation

- [Architecture Guide](Architecture.md) - System architecture
- [Features Guide](Features.md) - Feature documentation
- [Build Guide](Build.md) - Building the project
- [API Documentation](API.md) - API endpoints and data structure
- [Data Contract](Data_Contract.md) - Data contract with Analytics
- [Contributing Guide](CONTRIBUTING.md) - Contribution guidelines
